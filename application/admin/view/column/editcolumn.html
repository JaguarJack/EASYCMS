<div class="modal-dialog">
 <div class="modal-content">
            <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel">编辑前台栏目</h4>
         </div>
         <form class="form-horizontal" action="{:url('Column/editColumn')}"  method="post" role="form" style="margin-top:10px;">
		  <div class="form-group">
		  <div class="form-group">
		      <label class="col-sm-2 control-label">父级菜单:</label>
		      <div class="col-sm-8">
		      <select class="form-control" id="fid" name="fid">
		         <option value="0">--顶级菜单--</option>
		         <foreach name="topColumn" item="vo">
		         	<option value="{$vo.id}" <if condition="$column['fid'] eq $vo['id']">selected</if>><?php echo str_repeat('—',$vo['level'])?>{$vo.name}</option>
		         </foreach>
		      </select>
		      </div>
		   </div>
		      <label class="col-sm-2 control-label"><span class="red">*</span>栏目名称:</label>
		      <div class="col-sm-8">
		         <input class="form-control" id="name" name="name" type="text" value="{$column.name}">
		      </div>
		   </div>
		   <div class="form-group">
		      <label class="col-sm-2 control-label">显示:</label>
		      <div class="col-sm-8">
		         <input type="radio" name="show" id="show" value="1" <if condition="$column['show'] eq 1">checked</if>>是
		         <input type="radio" name="show" id="show" value="2" <if condition="$column['show'] eq 2">checked</if>> 否
		      </div>
		   </div>
		   <div class="form-group">
		      <label class="col-sm-2 control-label">单页面:</label>
		      <div class="col-sm-8">
		         <input type="radio" name="is_page"  value="2" <if condition="$column['is_page'] eq 2">checked</if>>是
		         <input type="radio" name="is_page"  value="1" <if condition="$column['is_page'] eq 1">checked</if>> 否
		      </div>
		   </div>
		   <div class="form-group">
		      <label for="lastname" class="col-sm-2 control-label">内容分页</label>
		      <div class="col-sm-6">
		          <input type="radio" name="is_paginate" value="1" <if condition="$column['is_paginate'] eq 1">checked</if>>内容不分页
		          <input type="radio" name="is_paginate" value="2" <if condition="$column['is_paginate'] eq 2">checked</if>>内容分页
		      </div>
		   </div>
		   <div class="form-group">
		      <label class="col-sm-2 control-label">栏目排序:</label>
		      <div class="col-sm-4">
		         <input class="form-control" id="sort" name="sort" type="text" placeholder="该输入排序" value="{$column.sort}">
		      </div>
			<input name="id" type="hidden" value="{$id}">      
		   </div>               
   			 <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
            <button type="button" class="btn btn-primary sub">编辑栏目</button>
         </div>
    </div>
</div>
<style>
.red{color:red;}
</style>
<script src="/public/static/layer/layer.js"></script>
<script type="text/javascript">
$(".sub").click(function(){
	var name = $('#name').val();
	var sort = $('#sort').val();
	preg_sort = /^[0-9]{1,5}$/;
	if(!name || name.length > 10){
		layer.tips('请输入菜单名称或是名称过长', '#name');
		return;
	}
	if(!preg_sort.test(sort)){
		layer.tips('必须填写数字且最大不超过五位数', '#sort');
		return;
	}
	
	$('.form-horizontal').submit();
})

</script>